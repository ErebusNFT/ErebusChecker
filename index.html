<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Erebus – ID Pass WL Checker</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    :root {
      --bg: #05030d;
      --card: rgba(10, 5, 30, 0.95);
      --accent: #b76bff;
      --accent-soft: rgba(183, 107, 255, 0.25);
      --text-main: #f6f0ff;
      --text-sub: #a29ac8;
      --danger: #ff4f6a;
      --success: #7dffb2;
      --border-soft: rgba(255, 255, 255, 0.06);
      --radius-xl: 26px;
      --radius-pill: 999px;
      --shadow-soft: 0 40px 120px rgba(0, 0, 0, 0.75);
      --shadow-glow: 0 0 40px rgba(183, 107, 255, 0.55);
      --input-bg: rgba(6, 3, 22, 0.95);
    }

    body {
      min-height: 100vh;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "SF Pro Text",
        "Inter", sans-serif;
      background:
        radial-gradient(circle at top left, #3a1b83 0, transparent 55%),
        radial-gradient(circle at bottom right, #18084a 0, transparent 55%),
        radial-gradient(circle at center, #05010f 0, #020008 55%, #010007 80%);
      color: var(--text-main);
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 32px 16px;
      overflow: hidden;
    }

    .shell {
      width: 100%;
      max-width: 1240px;
      background: radial-gradient(circle at top left, rgba(138, 90, 255, 0.25), transparent 60%) 
                  border-box,
                  radial-gradient(circle at bottom right, rgba(255, 88, 189, 0.18), transparent 55%) 
                  border-box,
                  var(--card);
      border-radius: 32px;
      box-shadow: var(--shadow-soft);
      border: 1px solid rgba(255, 255, 255, 0.04);
      position: relative;
      overflow: hidden;
      animation: shellGlow 9s ease-in-out infinite;
    }

    .content {
      display: grid;
      grid-template-columns: minmax(0, 3fr) minmax(0, 2.4fr);
      gap: 32px;
      padding: 40px 42px 38px;
      position: relative;
      z-index: 2;
    }

    @media (max-width: 900px) {
      .content {
        grid-template-columns: minmax(0, 1fr);
        gap: 28px;
        padding: 24px 18px 22px;
      }
    }

    .top-row {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 36px;
    }

    .brand {
      display: inline-flex;
      align-items: center;
      gap: 12px;
    }

    .brand-logo {
      width: 40px;
      height: 40px;
      border-radius: 14px;
      background: radial-gradient(circle at 30% 20%, #ffffff, #f5e1ff 27%, #b76bff 60%, #432175 100%);
      box-shadow: var(--shadow-glow);
      display: flex;
      align-items: center;
      justify-content: center;
      overflow: hidden;
      border: 1px solid rgba(255, 255, 255, 0.2);
    }

    .brand-logo img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    .brand-text-main {
      font-size: 13px;
      letter-spacing: 0.18em;
      text-transform: uppercase;
      color: var(--text-sub);
    }

    .brand-text-sub {
      font-size: 11px;
      letter-spacing: 0.3em;
      text-transform: uppercase;
      color: rgba(199, 188, 255, 0.9);
    }

    .tag-pill {
      font-size: 11px;
      letter-spacing: 0.22em;
      text-transform: uppercase;
      padding: 8px 18px;
      border-radius: var(--radius-pill);
      border: 1px solid rgba(220, 191, 255, 0.36);
      color: rgba(226, 208, 255, 0.98);
      background: radial-gradient(circle at top left, rgba(198, 133, 255, 0.37), transparent 60%) 
                  rgba(7, 2, 24, 0.96);
      box-shadow: 0 0 18px rgba(155, 95, 255, 0.45);
      white-space: nowrap;
    }

    .section-label {
      font-size: 11px;
      letter-spacing: 0.32em;
      text-transform: uppercase;
      color: rgba(175, 159, 231, 0.9);
      margin-bottom: 10px;
    }

    h1 {
      font-size: 34px;
      line-height: 1.15;
      letter-spacing: 0.02em;
      text-shadow:
        0 0 18px rgba(183, 107, 255, 0.65),
        0 0 40px rgba(130, 80, 255, 0.55);
      margin-bottom: 16px;
    }

    @media (max-width: 900px) {
      h1 { font-size: 27px; }
    }

    .lead {
      font-size: 14px;
      line-height: 1.7;
      color: var(--text-sub);
      max-width: 420px;
    }

    .checker-card {
      margin-top: 36px;
      padding: 18px 20px 22px;
      border-radius: 24px;
      border: 1px solid var(--border-soft);
      background:
        radial-gradient(circle at top left, rgba(120, 69, 255, 0.28), transparent 55%),
        radial-gradient(circle at bottom right, rgba(208, 117, 255, 0.16), transparent 55%),
        var(--input-bg);
      box-shadow: 0 16px 60px rgba(0, 0, 0, 0.6);
    }

    .field-label {
      font-size: 11px;
      letter-spacing: 0.28em;
      text-transform: uppercase;
      color: rgba(178, 164, 240, 0.96);
      margin-bottom: 8px;
    }

    .field-help {
      font-size: 11px;
      color: rgba(151, 139, 209, 0.95);
      margin-bottom: 14px;
    }

    .input-row {
      display: flex;
      align-items: center;
      gap: 10px;
      background: rgba(7, 3, 24, 0.96);
      border-radius: var(--radius-pill);
      border: 1px solid rgba(124, 96, 255, 0.65);
      padding: 3px 3px 3px 14px;
    }

    .input-row input {
      flex: 1;
      border: none;
      outline: none;
      background: transparent;
      color: #f7f3ff;
      font-size: 13px;
      padding: 8px 4px;
      font-family: "SF Mono", ui-monospace, Menlo, Monaco, Consolas, monospace;
    }

    .input-row input::placeholder {
      color: rgba(158, 145, 220, 0.72);
    }

    .btn-check {
      border: none;
      outline: none;
      cursor: pointer;
      padding: 10px 26px;
      border-radius: var(--radius-pill);
      font-size: 12px;
      letter-spacing: 0.18em;
      text-transform: uppercase;
      background: linear-gradient(135deg, #b76bff, #ff6ecf);
      color: #0b041a;
      font-weight: 600;
      box-shadow: var(--shadow-glow);
      white-space: nowrap;
      transition: transform 0.1s ease, box-shadow 0.1s ease;
    }

    .btn-check:hover {
      transform: translateY(-1px);
      box-shadow: 0 0 26px rgba(183, 107, 255, 0.8);
    }

    .btn-check:active {
      transform: translateY(1px);
      box-shadow: 0 0 20px rgba(183, 107, 255, 0.5);
    }

    .result {
      margin-top: 14px;
      min-height: 22px;
      font-size: 13px;
    }

    .result span.label {
      font-weight: 500;
      letter-spacing: 0.05em;
      text-transform: uppercase;
      font-size: 11px;
      opacity: 0.9;
    }

    .result.ok {
      color: var(--success);
    }

    .result.miss {
      color: var(--text-sub);
    }

    .result.error {
      color: var(--danger);
    }

    /* RIGHT SIDE ART */
    .art-wrapper {
      position: relative;
      min-height: 260px;
    }

    .orb {
      position: absolute;
      inset: 10% -5% -15% 18%;
      background:
        radial-gradient(circle at top, rgba(250, 230, 255, 0.35), transparent 65%),
        radial-gradient(circle at bottom right, rgba(255, 101, 210, 0.5), transparent 60%),
        radial-gradient(circle at top left, rgba(158, 108, 255, 0.7), transparent 65%);
      opacity: 0.55;
      filter: blur(6px);
      mix-blend-mode: screen;
      animation: floatOrb 12s ease-in-out infinite;
    }

    .jungle-img {
      position: absolute;
      inset: 6% 0 4% 14%;
      border-radius: 28px;
      overflow: hidden;
      border: 1px solid rgba(190, 160, 255, 0.7);
      box-shadow:
        0 24px 80px rgba(0, 0, 0, 0.9),
        0 0 60px rgba(131, 86, 255, 0.7);
      background: #090417;
    }

    .jungle-img img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      transform: scale(1.04);
    }

    .character-img {
      position: absolute;
      bottom: -2%;
      left: 10%;         /* move in from the edge */
      width: 48%;        /* a bit smaller for balance */
      max-width: 260px;
      filter: drop-shadow(0 26px 50px rgba(0, 0, 0, 0.95))
              drop-shadow(0 0 32px rgba(211, 144, 255, 0.72));
      animation: floatErebus 6.5s ease-in-out infinite;
    }

    .character-img img {
      width: 100%;
      height: auto;
      display: block;
    }

    .art-tag {
      position: absolute;
      top: 8%;
      right: 12%;
      padding: 8px 22px;
      border-radius: var(--radius-pill);
      border: 1px solid rgba(255, 255, 255, 0.65);
      background: radial-gradient(circle at top left, rgba(255, 255, 255, 0.3), transparent 60%)
                  rgba(14, 3, 40, 0.9);
      font-size: 10px;
      letter-spacing: 0.23em;
      text-transform: uppercase;
      color: #ffffff; /* bright text */
      text-shadow:
        0 0 12px rgba(255, 255, 255, 0.85),
        0 0 22px rgba(191, 135, 255, 0.7);
      box-shadow: 0 0 24px rgba(191, 135, 255, 0.9);
      white-space: nowrap;
      animation: floatTag 7.5s ease-in-out infinite;
    }

    @media (max-width: 900px) {
      .art-wrapper {
        min-height: 220px;
      }

      .art-tag {
        right: 10%;
      }
    }

    @media (max-width: 700px) {
      body {
        padding: 16px 10px;
      }

      .shell {
        border-radius: 22px;
      }

      .top-row {
        flex-direction: column;
        align-items: flex-start;
        gap: 14px;
        margin-bottom: 24px;
      }

      .checker-card {
        margin-top: 26px;
      }

      .art-tag {
        top: 6%;
        right: 8%;
      }
    }

    /* ANIMATIONS */

    @keyframes floatErebus {
      0%   { transform: translate3d(0, 0, 0); }
      50%  { transform: translate3d(0, -10px, 0); }
      100% { transform: translate3d(0, 0, 0); }
    }

    @keyframes floatOrb {
      0%   { transform: translate3d(0, 0, 0) scale(1); opacity: 0.5; }
      50%  { transform: translate3d(0, -8px, 0) scale(1.03); opacity: 0.7; }
      100% { transform: translate3d(0, 0, 0) scale(1); opacity: 0.5; }
    }

    @keyframes floatTag {
      0%   { transform: translate3d(0, 0, 0); }
      50%  { transform: translate3d(0, -5px, 0); }
      100% { transform: translate3d(0, 0, 0); }
    }

    @keyframes shellGlow {
      0% {
        box-shadow: 0 40px 120px rgba(0, 0, 0, 0.9),
                    0 0 20px rgba(149, 88, 255, 0.25);
      }
      50% {
        box-shadow: 0 40px 130px rgba(0, 0, 0, 0.95),
                    0 0 40px rgba(183, 107, 255, 0.6);
      }
      100% {
        box-shadow: 0 40px 120px rgba(0, 0, 0, 0.9),
                    0 0 20px rgba(149, 88, 255, 0.25);
      }
    }
  </style>
</head>
<body>
  <div class="shell">
    <div class="content">
      <!-- LEFT SIDE: TEXT + CHECKER -->
      <div>
        <div class="top-row">
          <div class="brand">
            <div class="brand-logo">
              <img src="erebus-logo.png" alt="Erebus logo">
            </div>
            <div>
              <div class="brand-text-main">EREBUS</div>
              <div class="brand-text-sub">ID PASS · WL CHECKER</div>
            </div>
          </div>

          <div class="tag-pill">MONAD · SNAPSHOT</div>
        </div>

        <div>
          <div class="section-label">WL CHECKER</div>
          <h1>Check if a wallet has Free mint WL</h1>
          <p class="lead">
            Paste any EVM wallet. The checker reads the official
            <strong>Erebus: ID Pass</strong> snapshot and tells you how many
            <strong>Free Mint WL mints</strong> that wallet holds.
          </p>
        </div>

        <div class="checker-card">
          <div class="field-label">Wallet address</div>
          <div class="field-help">
            Checker is <strong>snapshot-based</strong>. No on-chain calls. No draws. Just WL eligibility.
          </div>

          <form id="checker-form" class="input-row">
            <input
              id="wallet-input"
              type="text"
              autocomplete="off"
              spellcheck="false"
              placeholder="0x1234… Paste EVM wallet address"
            />
            <button type="submit" class="btn-check">Check</button>
          </form>

          <div id="result" class="result"></div>
        </div>
      </div>

      <!-- RIGHT SIDE: EREBUS ART -->
      <div class="art-wrapper" aria-hidden="true">
        <div class="orb"></div>

        <div class="jungle-img">
          <img src="erebus-jungle.png" alt="Erebus jungle background">
        </div>

        <div class="character-img">
          <img src="erebus-character.png" alt="Erebus creature">
        </div>

        <div class="art-tag">FREE MINT WL · SNAPSHOT</div>
      </div>
    </div>
  </div>

  <script>
    // Simple EVM address check (0x + 40 hex chars)
    function isValidAddress(address) {
      return /^0x[a-fA-F0-9]{40}$/.test(address);
    }

    // Map of addressLower -> freeMintCount
    const snapshotMap = new Map();

    async function loadSnapshot() {
      try {
        const res = await fetch("snapshot.txt?" + Date.now());
        if (!res.ok) {
          console.error("Failed to load snapshot.txt");
          return;
        }
        const text = await res.text();

        const lines = text.split(/\r?\n/);
        for (let line of lines) {
          line = line.trim();
          if (!line) continue;

          const parts = line.split(/\s+/);
          const rawAddress = parts[0];
          if (!/^0x[a-fA-F0-9]{40}$/.test(rawAddress)) continue;

          const addrLower = rawAddress.toLowerCase();
          let count = 1;

          if (parts.length > 1) {
            const num = parseInt(parts[1], 10);
            if (!Number.isNaN(num) && num > 0) {
              count = num;
            }
          }

          // Remove duplicates by aggregating counts
          const existing = snapshotMap.get(addrLower) || 0;
          snapshotMap.set(addrLower, existing + count);
        }

        console.log("Snapshot loaded. Addresses:", snapshotMap.size);
      } catch (err) {
        console.error("Error loading snapshot:", err);
      }
    }

    loadSnapshot();

    const form = document.getElementById("checker-form");
    const input = document.getElementById("wallet-input");
    const resultBox = document.getElementById("result");

    function setResult(message, type) {
      resultBox.className = "result " + (type || "");
      resultBox.innerHTML = message;
    }

    form.addEventListener("submit", function (e) {
      e.preventDefault();
      const rawValue = (input.value || "").trim();

      if (!rawValue) {
        setResult('<span class="label">Error</span> · Paste a wallet address first.', "error");
        return;
      }

      if (!isValidAddress(rawValue)) {
        setResult(
          '<span class="label">Invalid address</span> · Please enter a valid EVM wallet (0x + 40 hex characters).',
          "error"
        );
        return;
      }

      const key = rawValue.toLowerCase();
      const count = snapshotMap.get(key) || 0;

      if (count > 0) {
        const mintText = count === 1 ? "mint" : "mints";
        setResult(
          `<span class="label">Free mint WL</span> · This wallet has <strong>${count}</strong> Free Mint WL ${mintText}.`,
          "ok"
        );
      } else {
        setResult(
          '<span class="label">No WL found</span> · This wallet is not in the Erebus: ID Pass snapshot. 0 Free Mint WL mints.',
          "miss"
        );
      }
    });
  </script>
</body>
</html>
